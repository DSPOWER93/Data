
<!-- Add banner here -->

<p align="center">
  <img src="https://github.com/DSPOWER93/Data/blob/main/GitHub_nlp_question_banner.png?raw=true" alt="Sublime's custom image"/>
</p>


![GitHub release (latest by date including pre-releases)](https://img.shields.io/github/v/release/navendu-pottekkat/awesome-readme?include_prereleases)
![GitHub last commit](https://img.shields.io/badge/last%20commit-Dec--2021-blue)
![GitHub issues](https://img.shields.io/github/issues-raw/navendu-pottekkat/awesome-readme)
![GitHub](https://img.shields.io/github/license/navendu-pottekkat/awesome-readme)

# Inappropriate Question Classifier-API

The Inappropriate question API aims to identify questions that are asked with intent of having insincere perpespective. Classifier identifies questions that are having toxic and divisive content. API helps to keep online trolls at bay by keeping web content adheres policy of "Be Nice & Respectful"

### Sample Use Cases

API can flag inappropriate content in: 
- **Public forum Q&A sessions**
- **E-commerce websites product Q&A**
- **Customer support tickets**

### Business benefits

- **Reduces trolls infiltration to platform**
- **Faster resolution time on reported tickets**


## Model Deployment Structure

<p align="center">
  <img src="https://github.com/DSPOWER93/Data/blob/main/deployment%20flow.png" alt="Sublime's custom image"/>
</p>

### **Flow**: 
➤➤Client Sends data using /POST command to AWS HTTP Gateway rest API.

➤➤ AWS HTTP gateway Rest API triggers AWS Lambda Python Instance to spin up the instance.
       
➤➤AWS Lambda Instance runs the python handler and access Elastic File system to get Python Packages & model Artifacts to handler.

➤➤Handler sends reponse to post request with results through HTTP gateway back to client.

## Model Visuals

<p align="center">
  <img src="https://github.com/DSPOWER93/artifacts/blob/main/Model_vis.png" alt="Sublime's custom image"/>
</p>

## Shortlisted Models

<p align="center">
  <img src="https://github.com/DSPOWER93/artifacts/blob/main/model_comparison.png" alt="Sublime's custom image"/>
</p>

Out of the two NLP models, Hybrid Bi-LSTM model was finalized as it met following criteria: 

Computationally in-expensive:
Speed:

Model training files can be referred from following links:

-[Hybrid LSTM]()
-[Distilbert Transformers]()

## Data Source

The Data for the project has been taken from Kaggle competition 
[Quora Insincere Question Classification](https://www.kaggle.com/c/quora-insincere-questions-classification)

## API Inference

#### API Inference through Python

Invoke url = https://bl5i4vptna.execute-api.us-east-1.amazonaws.com/dev/api

```
/POST Method

# Python Packages
import requests, json

>>url = "https://bl5i4vptna.execute-api.us-east-1.amazonaws.com/dev/api"
```

#### Low Insincerity Content
```python
>>data = json.dumps({"queryStringParameters":{
                        "text":"what time does sun rise in Japan"
      		        }})
>>r = requests.post(url, data)
>>print(r.json())

{'statusCode': 200, 'output': '"0.004349351"'}
```

#### High Insincerity Content
```python
>>data = json.dumps({"queryStringParameters":{
                    "text":"does USA hate gay"
      		        }})
>>r = requests.post(url, data)
>>print(r.json())

{'statusCode': 200, 'output': '"0.8821814"'}
```

## Local Deployment

To deploy this project on Localhost using rest API Flask, following code to be ran on bash: 

**Creating Virtual Environment**
```bash
$virtualenv virtualenv_name
$virtualenv -p /usr/bin/python3.8 virtualenv_name
$source virtualenv_name/bin/activate
```
**Model Deployment**
```bash
(virtualenv_name)$git clone https://github.com/DSPOWER93/quora-insincere.git
(virtualenv_name)$pip install -r requirements.txt 
(virtualenv_name)$python -m spacy download en_core_web_sm
(virtualenv_name)$python3 app.py
```
Model Inferencing would result same at localhost, just Invoke Url would local host link generated by Flask Rest API.



## Acknowledgements

 - [Awesome Readme Templates](https://awesomeopensource.com/project/elangosundar/awesome-README-templates)
 - [Awesome README](https://github.com/matiassingers/awesome-readme)
 - [How to write a Good readme](https://bulldogjob.com/news/449-how-to-write-a-good-readme-for-your-github-project)


## Screenshots

![App Screenshot](https://via.placeholder.com/468x300?text=App+Screenshot+Here)



## Tools used in Project

<p float="left">
  <img src="https://freepngimg.com/thumb/categories/1402.png" width="150" />
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Amazon_Web_Services_Logo.svg/1024px-Amazon_Web_Services_Logo.svg.png" width="100" /> 
  <img src="/img3.png" width="100" />
</p>


<img src="https://freepngimg.com/thumb/categories/1402.png" alt="drawing" style="width:200px;"/>
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Amazon_Web_Services_Logo.svg/1024px-Amazon_Web_Services_Logo.svg.png" alt="drawing" style="width:150px; height: 150px;" />

![Python](https://freepngimg.com/thumb/categories/1402.png)
![AWS](https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Amazon_Web_Services_Logo.svg/1024px-Amazon_Web_Services_Logo.svg.png)
